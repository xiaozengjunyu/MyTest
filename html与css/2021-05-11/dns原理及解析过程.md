# DNS原理及其解析过程

## 解析顺序

### 浏览器缓存
首先浏览器在本地缓存里面查找是否有该域名对应的 IP 地址。

### 系统缓存
当浏览器访问本地缓存无域名对应的 IP 地址，便从系统 Host 的文件中查找是否有对应的 IP 地址

### 路由缓存
当系统 Host 文件查无对应域名的 IP 地址后进入路由缓存中检查，以上三步都是 DNS 客户端缓存

### ISP DNS缓存
当在客服端查找不到域名对应 IP 地址，进入 ISP DNS 缓存中查询。进入网络运营商服务器查询。

### 根域名服务器
全球有13台根域名服务器，一台主根域名服务器，十二太辅根域名服务器，根域名收到请求后会查看区域文件记录，若无则将其管辖范围内顶级域名（如.com）服务器 IP 告诉本地 DNS 服务器

### 顶级域名服务器
顶级域名服务器接收到请求查看区域文件，若无则将其管辖范围内主域名服务器 IP 告诉本地 DNS 服务器。

### 主域名服务器
主域名服务器接收到请求查看区域文件，若无则下一级域名进行查找，并重复该步骤。

### 保存结果至缓存
本地域名服务器把返回的结果保存到缓存，以备下一次使用，同时将该结果反馈给客户端，客户端通过这个 IP 地址与 web 服务器建立链接。
